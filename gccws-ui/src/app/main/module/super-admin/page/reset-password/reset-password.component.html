<div class="bg-light min-vh-100 d-flex flex-row align-items-center" *ngIf="frmGroup">
  <c-container>
    <c-row class="justify-content-center">
      <c-col md="8">
        <c-card-group>
          <!--left-->
          <c-card class="p-4">
            <c-card-body>
              <form [formGroup]="frmGroup">
                <h1>Reset Your Password</h1>
                <h3 *ngIf="isExpire" class="icon-warn">Your password is expired</h3>

                <!--old password-->
                <div class="form-group inner-addon right-addon mt-2">
                  <div class="input-group col-6 mx-auto">
                    <input class="form-control pwd-control" formControlName="oldPassword"
                           [type]="showOldPassword ? 'text' : 'password'"
                           placeholder="Old Password">
                    <i alt="show" class="far fa-eye eye-show"
                       (click)="showOldPassword = !showOldPassword"
                       [class.hide]="showOldPassword"></i>
                    <i alt="hide" class="far fa-eye-slash eye-hide"
                       (click)="showOldPassword = !showOldPassword"
                       [class.hide]="!showOldPassword"></i>
                  </div>
                  <!--error message-->
                  <addies-error [formGroup]="this.frmGroup" [controlName]="'oldPassword'"></addies-error>
                </div>

                <!--new password-->
                <div class="form-group inner-addon right-addon mt-3">
                  <div class="input-group col-6 mx-auto">
                    <input class="form-control pwd-control" formControlName="newPassword"
                           [type]="showNewPassword ? 'text' : 'password'"
                           placeholder="New Password"
                           (input)="checkPassword()">
                      <i alt="show" class="far fa-eye eye-show"
                         (click)="showNewPassword = !showNewPassword"
                         [class.hide]="showNewPassword"></i>
                      <i alt="hide" class="far fa-eye-slash eye-hide"
                         (click)="showNewPassword = !showNewPassword"
                         [class.hide]="!showNewPassword"></i>
                  </div>
                  <!--error message-->
                  <addies-error [formGroup]="this.frmGroup" [controlName]="'newPassword'"></addies-error>
                  <div class="icon-warn">
                    <span [style.color]="policyColor.minLength">use {{passwordPolicy.minLength}} or more characters</span>
                    <span [style.color]="policyColor.alphanumeric" *ngIf="passwordPolicy.alphanumeric">, &nbsp; mix of letters & numbers</span>
                    <span [style.color]="policyColor.sequential" *ngIf="passwordPolicy.sequential">, &nbsp;avoid sequential ex. 123  abc</span>
                    <span [style.color]="policyColor.specialChar" *ngIf="passwordPolicy.specialChar">, &nbsp;add special char (ex. !@#$%)</span>
                    <span [style.color]="policyColor.upperLower" *ngIf="passwordPolicy.upperLower">, &nbsp;add upper and lower (ex. ABcd)</span>
                    <span [style.color]="policyColor.matchUsername" *ngIf="passwordPolicy.matchUsername">, &nbsp;match with username</span>
                  </div>
                </div>

                <!--confirm password-->
                <div class="form-group inner-addon right-addon mt-2">
                  <div class="input-group col-6 mx-auto">
                    <input class="form-control pwd-control" formControlName="confirmPassword"
                           [type]="showConfirmPassword ? 'text' : 'password'"
                           placeholder="Confirm Password">
                      <i alt="show" class="far fa-eye eye-show"
                         (click)="showConfirmPassword = !showConfirmPassword"
                         [class.hide]="showConfirmPassword"></i>
                      <i alt="hide" class="far fa-eye-slash eye-hide"
                         (click)="showConfirmPassword = !showConfirmPassword"
                         [class.hide]="!showConfirmPassword"></i>
                  </div>
                  <!--error message-->
                  <addies-error [formGroup]="this.frmGroup" [controlName]="'confirmPassword'"></addies-error>
                </div>

                <c-row>
                  <c-col xs="12" class="mt-3">
                    <!--<button class="m-1 custom-btn btn btn-secondary">
                      Reset Password
                    </button>-->
                    <button class="m-1 custom-btn btn-theme"
                            [disabled]="!frmGroup.valid"
                            (click)="resetPassword()">
                      <svg cIcon name="cil-sync" *ngIf="!isLoading"></svg>
                      <c-spinner aria-hidden="true" size="sm" *ngIf="isLoading"></c-spinner>
                      Reset Password
                    </button>
                  </c-col>
                </c-row>

              </form>
            </c-card-body>
          </c-card>
          <!-- // left-->

          <c-card [ngStyle]="{'width.%': 100}" class="text-white bg-secondary py-5">
            <c-card-body class="text-center">
              <div>

                <img src="../../../../../../assets/img/avatars/reset.png" width="200px" height="200px">

              </div>
            </c-card-body>
          </c-card>
        </c-card-group>
      </c-col>
    </c-row>
  </c-container>
</div>
